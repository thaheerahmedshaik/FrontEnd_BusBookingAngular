<div *ngIf="bookingDetails" class="payment-container">
  <div class="payment-card">
    <h2>Payment for <span>{{ bookingDetails?.busName }}</span></h2>
    <div class="trip-info">
      <p><strong>From:</strong> {{ bookingDetails?.fromCity }} â†’ <strong>To:</strong> {{ bookingDetails?.toCity }}</p>
      <p><strong>Departure:</strong> {{ bookingDetails?.departureTime }} | <strong>Arrival:</strong> {{ bookingDetails?.arrivalTime }}</p>
      <p><strong>Seats:</strong> {{ seatNumbers }}</p>
      <p class="amount"><strong>Total:</strong> â‚¹{{ bookingDetails?.totalAmount }}</p>
    </div>

    <h3>Select Payment Method</h3>
    <div class="method-buttons">
      <button type="button" (click)="selectPaymentMethod('card')" [class.active]="selectedPaymentMethod === 'card'">ğŸ’³ Card</button>
      <button type="button" (click)="selectPaymentMethod('upi')" [class.active]="selectedPaymentMethod === 'upi'">ğŸ“± UPI</button>
      <button type="button" (click)="selectPaymentMethod('phonepay')" [class.active]="selectedPaymentMethod === 'phonepay'">ğŸ¦ PhonePe</button>
      <button type="button" (click)="selectPaymentMethod('googlepay')" [class.active]="selectedPaymentMethod === 'googlepay'">ğŸ’° Google Pay</button>
    </div>

    <!-- Payment Form -->
    <form *ngIf="paymentForm" [formGroup]="paymentForm" (ngSubmit)="processPayment()" class="form-section">

      <!-- Card Payment -->
      <div *ngIf="selectedPaymentMethod === 'card'" class="input-group">
        <input formControlName="cardNumber" placeholder="Card Number (16 digits)" />
        <input formControlName="cardName" placeholder="Card Holder Name" />
        <input formControlName="expiryDate" placeholder="MM/YY" />
        <input formControlName="cvv" placeholder="CVV" />
      </div>

      <!-- UPI Payment -->
      <div *ngIf="selectedPaymentMethod === 'upi'" class="input-group">
        <input formControlName="upiId" placeholder="Enter UPI ID (e.g. name@upi)" />
      </div>

      <!-- Wallet Instructions -->
      <div *ngIf="selectedPaymentMethod === 'phonepay'" class="wallet-note">
        <p>Open <strong>PhonePe</strong> and complete your payment of â‚¹{{ bookingDetails?.totalAmount }}.</p>
      </div>

      <div *ngIf="selectedPaymentMethod === 'googlepay'" class="wallet-note">
        <p>Open <strong>Google Pay</strong> and complete your payment of â‚¹{{ bookingDetails?.totalAmount }}.</p>
      </div>

      <button type="submit" class="pay-btn" [disabled]="!selectedPaymentMethod">
        Pay â‚¹{{ bookingDetails?.totalAmount }}
      </button>
    </form>
  </div>
</div>
